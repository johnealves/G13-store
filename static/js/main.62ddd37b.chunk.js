(this["webpackJsonpg13-store"]=this["webpackJsonpg13-store"]||[]).push([[0],{26:function(t,e,a){},27:function(t,e,a){},35:function(t,e,a){},37:function(t,e,a){},44:function(t,e,a){},45:function(t,e,a){},46:function(t,e,a){},47:function(t,e,a){},48:function(t,e,a){},49:function(t,e,a){},50:function(t,e,a){},51:function(t,e,a){},52:function(t,e,a){},53:function(t,e,a){"use strict";a.r(e);var n=a(2),c=a.n(n),r=a(28),i=a.n(r),s=(a(35),a(18)),o=a(10),u=a.n(o),l=a(15),d=a(3),h=a(4),j=a(7),b=a(6),p=a(5),O=a(14),m=a(8);function f(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(u.a.mark((function t(){var e,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return e=t.sent,t.next=5,e.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(u.a.mark((function t(e,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(e,"&q=").concat(a)).then((function(t){return t.json()})).catch((function(t){return console.log(t)})),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}a(37);var g=[],C=a(1),k=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).addCartItem=t.addCartItem.bind(Object(j.a)(t)),t}return Object(h.a)(a,[{key:"addCartItem",value:function(t){if(g.some((function(e){return e.title===t.title})))g.forEach((function(e){e.title===t.title&&(e.quantity+=1)}));else{var e=t.title,a=t.thumbnail,n=t.price,c=t.available_quantity;g.push({title:e,thumbnail:a,price:n,quantity:1,availableQuantity:c})}(0,this.props.onClick)()}},{key:"render",value:function(){var t=this,e=this.props,a=e.product,n=e.text,c=a.title,r=a.thumbnail,i=a.price,s=a.category_id,o=a.id,u=a.shipping.free_shipping;return Object(C.jsxs)("li",{"data-testid":"product",className:"productCardContainer",children:[Object(C.jsxs)(O.b,{"data-testid":"product-detail-link",to:{pathname:"/".concat(s,"/").concat(o),search:n},className:"linkProductCard",children:[Object(C.jsx)("div",{className:"product-card-img-container",children:Object(C.jsx)("img",{src:r,alt:"foto-".concat(c)})}),Object(C.jsx)("div",{children:i.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}),Object(C.jsx)("h4",{children:c})]}),u?Object(C.jsx)("p",{"data-testid":"free-shipping",children:"Frete gr\xe1ris"}):null,Object(C.jsx)("button",{className:"btn btn-danger",type:"button","data-testid":"product-add-to-cart",onClick:function(){return t.addCartItem(a)},children:"Adicionar ao carrinho"})]})}}]),a}(n.Component),N=(a(44),a(45),function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"loadingContainer",children:[Object(C.jsx)("div",{className:"spinner"}),"Carregando..."]})}}]),a}(n.Component)),S=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).state={categories:[],loading:!0},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f().then((function(t){e.setState({categories:t,loading:!1})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.categories,a=t.loading,n=this.props.handleCategory;return a?Object(C.jsx)(N,{}):Object(C.jsx)("div",{className:"wrapper-category",children:e.map((function(t){return"MLB1540"!==t.id?Object(C.jsx)("li",{children:Object(C.jsxs)("label",{"data-testid":"category",htmlFor:t.id,children:[Object(C.jsx)("input",{onClick:n,type:"radio",id:t.id,name:"selectedCategory",value:t.id}),t.name]})},t.id):null}))})}}]),a}(n.Component),I=(a(26),function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).exeHandleyCategory=n.exeHandleyCategory.bind(Object(j.a)(n)),n}return Object(h.a)(a,[{key:"exeHandleyCategory",value:function(t){(0,this.props.handleCategory)(t)}},{key:"render",value:function(){var t=this.props,e=t.searchText,a=t.loading,n=t.productList,c=t.CounterCart,r=t.handleCategory;return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)("div",{className:"left-side form-check",children:Object(C.jsxs)("ul",{className:"categories-container",children:[Object(C.jsxs)("label",{className:"form-check-label",htmlFor:"allCategory",children:[Object(C.jsx)("input",{className:"form-check-input",onClick:r,id:"allCategory",type:"radio",name:"selectedCategory",value:""}),"Limpar filtros"]}),Object(C.jsx)(S,{handleCategory:this.exeHandleyCategory})]})}),Object(C.jsx)("p",{"data-testid":"home-initial-message",children:"Digite algum termo de pesquisa ou escolha uma categoria."}),Object(C.jsxs)("ul",{children:[a?Object(C.jsx)(N,{}):null,n.map((function(t){return Object(C.jsx)(k,{product:t,text:e,onClick:function(){return c()}},t.id)}))]})]})}}]),a}(n.Component)),q=(a(46),function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var n;Object(d.a)(this,a),n=e.call(this,t);var c=t.product.quantity;return n.increaseQuantity=n.increaseQuantity.bind(Object(j.a)(n)),n.decreaseQuantity=n.decreaseQuantity.bind(Object(j.a)(n)),n.totalPriceItem=n.totalPriceItem.bind(Object(j.a)(n)),n.state={quantity:c},n}return Object(h.a)(a,[{key:"increaseQuantity",value:function(t,e){var a=this,n=this.props.product.availableQuantity;e>=0&&e<n&&(g.forEach((function(n){n.title===t.title&&(n.quantity+=1,a.setState({quantity:e+1}))})),(0,this.props.onClick)())}},{key:"decreaseQuantity",value:function(t,e){var a=this;e>0&&(g.forEach((function(n){n.title===t.title&&(n.quantity-=1,a.setState({quantity:e-1}))})),(0,this.props.onClick)())}},{key:"totalPriceItem",value:function(){return this.state.quantity*this.props.product.price}},{key:"render",value:function(){var t=this,e=this.props.product,a=e.title,n=e.thumbnail,c=e.price,r=this.state.quantity,i=this.totalPriceItem();return Object(C.jsxs)("li",{className:"cardShoppingCartContainer",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("img",{src:n,alt:"imagem ".concat(a)}),Object(C.jsxs)("div",{className:"itemCart",children:[Object(C.jsx)("h6",{"data-testid":"shopping-cart-product-name",children:a}),Object(C.jsx)("p",{children:c.toLocaleString("pt-br",{style:"currency",currency:"BRL"})})]})]}),Object(C.jsxs)("div",{className:"quantCartControl",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{className:"btn",onClick:function(){return t.decreaseQuantity(e,r)},"data-testid":"product-decrease-quantity",type:"button",children:"-"}),Object(C.jsx)("input",{className:"form-group mb-3",value:r}),Object(C.jsx)("button",{className:"btn",onClick:function(){return t.increaseQuantity(e,r)},"data-testid":"product-increase-quantity",type:"button",children:"+"})]}),Object(C.jsxs)("div",{className:"total-price-container",children:[Object(C.jsx)("h5",{children:"Total: "}),i.toLocaleString("pt-br",{style:"currency",currency:"BRL"})]})]})]})}}]),a}(n.Component)),w=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).addQuantItemcart=t.addQuantItemcart.bind(Object(j.a)(t)),t.state={item:g,total:0},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.addQuantItemcart()}},{key:"addQuantItemcart",value:function(){var t=0;g.forEach((function(e){t+=e.quantity*e.price})),this.setState({total:t})}},{key:"render",value:function(){var t=this,e=this.state,a=e.item,n=e.total;return 0===a.length?Object(C.jsx)("p",{"data-testid":"shopping-cart-empty-message",children:"Seu carrinho est\xe1 vazio"}):Object(C.jsx)("div",{children:Object(C.jsxs)("ul",{className:"ulShoppingCart",children:[a.map((function(e){return Object(C.jsx)(q,{product:e,onClick:t.addQuantItemcart},e.id)})),Object(C.jsxs)("li",{className:"cardShoppingCartContainer",children:[Object(C.jsx)("h5",{children:"Total do carrinho"}),Object(C.jsx)("div",{children:n.toLocaleString("pt-br",{style:"currency",currency:"BRL"})})]})]})})}}]),a}(n.Component),L=(a(47),function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(C.jsxs)("form",{className:"checkout-form",children:[Object(C.jsxs)("label",{htmlFor:"checkout-fullname",children:["Nome completo",Object(C.jsx)("input",{"data-testid":"checkout-fullname",id:"checkout-fullname",type:"text"})]}),Object(C.jsxs)("label",{htmlFor:"checkout-email",children:["Email",Object(C.jsx)("input",{"data-testid":"checkout-email",id:"checkout-email",type:"text"})]}),Object(C.jsxs)("label",{htmlFor:"checkout-cpf",children:["CPF",Object(C.jsx)("input",{"data-testid":"checkout-cpf",id:"checkout-cpf",type:"text"})]}),Object(C.jsxs)("label",{htmlFor:"checkout-phone",children:["Telefone",Object(C.jsx)("input",{"data-testid":"checkout-phone",id:"checkout-phone",type:"text"})]}),Object(C.jsxs)("label",{htmlFor:"checkout-cep",children:["CEP",Object(C.jsx)("input",{"data-testid":"checkout-cep",id:"checkout-cep",type:"text"})]}),Object(C.jsxs)("label",{htmlFor:"checkout-address",children:["Endere\xe7o",Object(C.jsx)("input",{"data-testid":"checkout-address",id:"checkout-address",type:"text"})]})]})}}]),a}(n.Component)),T=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(C.jsx)(L,{})}}]),a}(n.Component),F=(a(27),a(48),function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)("form",{className:"avaliationFormContainer",children:Object(C.jsxs)("fieldset",{children:[Object(C.jsx)("legend",{children:"Avalia\xe7\xe3o"}),Object(C.jsx)("div",{className:"input-group mb-3",children:Object(C.jsx)("input",{className:"form-control avaliation-input",type:"email",placeholder:"Email",required:!0})}),Object(C.jsx)("div",{children:Object(C.jsx)("textarea",{className:"form-control mb-3",placeholder:"Mensagem (opcional)",cols:"50",rows:"5","data-testid":"product-detail-evaluation"})}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Avaliar"})]})})})}}]),a}(n.Component)),Q=a(23),B=(a(49),function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).nextImage=n.nextImage.bind(Object(j.a)(n)),n.prevImage=n.prevImage.bind(Object(j.a)(n)),n.state={imgKey:0},n}return Object(h.a)(a,[{key:"nextImage",value:function(){var t=this.props.pictures,e=this.state.imgKey;e<t.length-1?this.setState({imgKey:e+1}):this.setState({imgKey:0})}},{key:"prevImage",value:function(){var t=this.props.pictures,e=this.state.imgKey;e>0?this.setState({imgKey:e-1}):this.setState({imgKey:t.length-1})}},{key:"render",value:function(){var t=this.props,e=t.pictures,a=t.title,n=this.state.imgKey;return Object(C.jsxs)("div",{className:"productContanerDetail",children:[Object(C.jsx)("button",{type:"button",className:"changePictureButton",onClick:this.prevImage,children:Object(C.jsx)(Q.b,{})}),e.map((function(t){var e=t.url,n=t.id;return Object(C.jsx)("img",{src:e,alt:"".concat(a)},n)}))[n],Object(C.jsx)("button",{type:"button",className:"changePictureButton",onClick:this.nextImage,children:Object(C.jsx)(Q.a,{})})]})}}]),a}(n.Component)),D=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var t=this.props,e=t.product,a=t.onClick;console.log(e);var n=e.title,c=e.price,r=e.pictures;return Object(C.jsxs)("div",{"data-testid":"product-detail-name",className:"productContainer",children:[Object(C.jsx)(B,{pictures:r,title:n}),Object(C.jsxs)("div",{className:"titleDetails",children:[Object(C.jsx)("h3",{children:n}),Object(C.jsx)("h4",{children:c.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}),Object(C.jsx)(O.b,{to:"/ShoppingCart",children:Object(C.jsx)("button",{className:"btn btn-danger detailsToAddCart",type:"button","data-testid":"product-detail-add-to-cart",onClick:a,children:"Comprar Agora"})}),Object(C.jsx)("button",{className:"btn btn-outline-danger detailsToAddCart",type:"button","data-testid":"product-detail-add-to-cart",onClick:a,children:"Adicionar ao carrinho"})]})]})}}]),a}(n.Component),E=(a(50),function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var t=this.props.product;return console.log(t),Object(C.jsx)("table",{className:"table-container",children:t.attributes.map((function(t){var e=t.id,a=t.name,n=t.value_name;return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:a}),Object(C.jsx)("td",{children:n})]},e)}))})}}]),a}(n.Component)),P=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).searchForID=n.searchForID.bind(Object(j.a)(n)),n.addCartItem=n.addCartItem.bind(Object(j.a)(n)),n.state={product:{},loading:!0},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.match,a=e.params.id,this.searchForID(a);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"searchForID",value:function(t){var e=this;fetch("https://api.mercadolibre.com/items?ids=".concat(t)).then((function(t){return t.json()})).then((function(t){return e.addProductOnState(t[0].body)}))}},{key:"addProductOnState",value:function(t){this.setState({product:t,loading:!1})}},{key:"addCartItem",value:function(){var t=this.state.product;if(g.some((function(e){return e.title===t.title})))g.forEach((function(e){e.title===t.title&&(e.quantity+=1)}));else{var e=t.title,a=t.thumbnail,n=t.price;g.push({title:e,thumbnail:a,price:n,quantity:1})}(0,this.props.CounterCart)()}},{key:"render",value:function(){var t=this.state,e=t.product,a=t.loading;return Object(C.jsxs)("div",{children:[a?Object(C.jsx)(N,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(D,{product:e,onClick:this.addCartItem}),Object(C.jsxs)("div",{className:"table-structure",children:[Object(C.jsx)("h3",{children:"Caracteristicas"}),Object(C.jsx)(E,{product:e})]})]}),Object(C.jsx)(F,{})]})}}]),a}(n.Component),M=a(30),A=a(24),K=(a(51),function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var t=this.props.quant,e=void 0===t?0:t;return Object(C.jsx)("div",{className:"counter-cart-container","data-testid":"shopping-cart-size",children:e})}}]),a}(n.Component)),R=(a(52),function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"handleCategory",value:function(){return null}},{key:"render",value:function(){var t=this.props,e=t.setSearchText,a=t.handleCategory,n=t.quant;return Object(C.jsxs)("header",{className:"header-container",children:[Object(C.jsx)("h1",{children:Object(C.jsx)(O.b,{className:"header-link-h1",exact:!0,to:"/",children:"G13 Store"})}),Object(C.jsxs)("div",{className:"input-group mb-3",children:[Object(C.jsx)("input",{className:"form-control",id:"searchInput",type:"text","data-testid":"query-input",onChange:e}),Object(C.jsx)("button",{className:"btn btn-outline-secondary",type:"reset",onClick:a,"data-testid":"query-button",children:Object(C.jsx)(A.b,{})})]}),Object(C.jsxs)("div",{className:"header-link-container",children:[Object(C.jsxs)(O.b,{className:"header-link",to:"/ShoppingCart","data-testid":"shopping-cart-button",children:[Object(C.jsx)(M.a,{}),Object(C.jsx)(K,{quant:n})]}),Object(C.jsx)(O.b,{className:"header-link",to:"/Checkout","data-testid":"checkout-products",children:Object(C.jsx)(A.a,{})})]})]})}}]),a}(n.Component)),H=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).handleCategory=n.handleCategory.bind(Object(j.a)(n)),n.setSearchText=n.setSearchText.bind(Object(j.a)(n)),n.CounterCart=n.CounterCart.bind(Object(j.a)(n)),n.state={searchText:"",productList:[],loading:!1,quant:0},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.CounterCart()}},{key:"handleCategory",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var a,n,c,r=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.target,this.setState({loading:!0}),n=this.state.searchText,"MLB1540"===(c=a.value)){t.next=7;break}return t.next=7,y(c,n).then((function(t){var e=t.results;r.setState({productList:e})})).catch((function(t){return t}));case 7:this.setState({loading:!1});case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setSearchText",value:function(t){var e=t.target;this.setState({searchText:e.value})}},{key:"CounterCart",value:function(){var t=0;g.forEach((function(e){t+=e.quantity})),this.setState({quant:t})}},{key:"render",value:function(){var t=this,e=this.state,a=e.searchText,n=e.loading,c=e.productList,r=e.quant;return Object(C.jsxs)(O.a,{children:[Object(C.jsx)(R,{setSearchText:this.setSearchText,handleCategory:this.handleCategory,quant:r}),Object(C.jsxs)(m.c,{children:[Object(C.jsx)(m.a,{exact:!0,path:"/",render:function(e){return Object(C.jsx)(I,Object(s.a)(Object(s.a)({},e),{},{searchText:a,loading:n,productList:c,handleCategory:t.handleCategory,CounterCart:t.CounterCart}))}}),Object(C.jsx)(m.a,{path:"/ShoppingCart",component:w}),Object(C.jsx)(m.a,{path:"/Checkout",component:T}),Object(C.jsx)(m.a,{path:"/:category/:id",render:function(e){return Object(C.jsx)(P,Object(s.a)(Object(s.a)({},e),{},{CounterCart:t.CounterCart}))}})]})]})}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(H,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.62ddd37b.chunk.js.map